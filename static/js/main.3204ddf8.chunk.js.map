{"version":3,"sources":["Introduction/Introduction.js","BubbleChart/BubbleChart.js","BarChart/BarChart.js","InsuranceBarChart/InsuranceBarChart.js","Paginator/Paginator.js","Paginator/hooks/usePagination.js","App.js","index.js"],"names":["Introduction","id","className","BarChart","width","useState","data","setData","useEffect","a","d3","response","error","console","groupedData","map","entry","numSpeedingAccidents","parseFloat","group","color","d","bubbleChartRef","useRef","nodeData","children","sort","b","bubble","size","padding","heigth","svg","current","append","attr","nodes","sum","node","selectAll","descendants","enter","filter","x","y","text","i","State","tooltip","style","r","on","e","totalDrivers","speedingDrivers","parseInt","tooltipText","pageY","pageX","substring","window","frameElement","diameter","height","ref","makeStyles","theme","margin","spacing","extendedIcon","marginRight","useStyles","barChartRef","Math","ceil","length","maxVal","domain","range","rangeRound","join","bandwidth","this","call","g","ticks","select","remove","tickFormat","tickSizeOuter","InsuranceBarChart","insuranceBarChartRef","root","marginTop","pagination","display","justifyContent","Paginator","pageCount","onPageChange","classes","currentPage","Pagination","count","onChange","variant","usePagination","itemsPerPage","setCurrentPage","itemCount","getCurrentData","start","end","slice","propTypes","PropTypes","arrayOf","any","isRequired","number","App","pageMap","textAlign","BubbleChart","event","value","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3204ddf8.chunk.js","sourcesContent":["import React from 'react';\nimport './Introduction.css';\n\nconst Introduction = () => {\n\n\treturn (\n\t\t<article id=\"31d1db8a-2d6e-49de-ae5d-6617063fcf12\" className=\"page sans\"><header><div className=\"page-header-icon undefined\"><span className=\"icon\">📊</span></div><h1 className=\"page-title\">Which State Has The Worst Drivers?</h1></header><div className=\"page-body\"><p id=\"9a0f0172-6838-4e6d-bf6d-5f1d91f7534a\" className=\"\"><strong>Is there any state that really has worse drivers?</strong> I&#x27;ve lived in both 🏔 Utah and 🌴 California, and Utahns say Californians are the worst drivers, while in Californians say Utahns are the worst drivers. Let&#x27;s look at the number of crashes in each of the 50 states and examine any possible negligence such as alcohol impairment, distraction, and speeding, to find out who is actually right or to find out if any other state wins (loses, really). Finally, we will look at insurance costs to observe any effects in higher premiums in those states.</p><p id=\"c6243134-e8a9-4a84-9114-e992ead330bf\" className=\"\">\n\t\t</p></div></article>\n\t)\n}\n\nexport default Introduction","import React, { useRef, useState, useEffect } from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport * as d3 from \"d3\";\nimport Button from '@material-ui/core/Button';\nconst url = 'https://raw.githubusercontent.com/fivethirtyeight/data/master/bad-drivers/bad-drivers.csv';\n\nconst BarChart = ({ width }) => {\n\n\tlet [data, setData] = useState([]);\n\n\tuseEffect(() => {\n\t\ttry {\n\t\t\t(async () => {\n\t\t\t\tlet response = await d3.csv(url)\n\n\t\t\t\tawait setData(response);\n\t\t\t})();\n\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\n\t}, []);\n\n\t// add group value to each data entry for colors\n\tconst groupedData = data && data.map((entry) => {\n\t\tconst numTotalAccidents = parseFloat(entry['Number of drivers involved in fatal collisions per billion miles']);\n\t\tconst speedingAccidentPercent = parseFloat(entry['Percentage Of Drivers Involved In Fatal Collisions Who Were Speeding']) / 100;\n\t\tconst numSpeedingAccidents = numTotalAccidents * speedingAccidentPercent;\n\n\t\tif (numSpeedingAccidents > 0) {\n\t\t\tif (numSpeedingAccidents < 3.3) {\n\t\t\t\tentry.group = 1;\n\t\t\t}\n\t\t\telse if (numSpeedingAccidents < 6.6) {\n\t\t\t\tentry.group = 2;\n\t\t\t}\n\t\t\telse if (numSpeedingAccidents < 10) {\n\t\t\t\tentry.group = 3;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tentry.group = 4;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tentry.group = 0;\n\t\t}\n\t\treturn entry;\n\t});\n\n\tconst color = d3.scaleOrdinal(groupedData.map(d => d.group), d3.schemeCategory10);\n\n\tconst bubbleChartRef = useRef();\n\n\tconst diameter = 970;\n\n\t// create an object with key=children\n\t// IMPORTANT: values here are sorted so that the chart is displayed correctly with large bubble values in the middle\n\tconst nodeData = {\n\t\tchildren: [...groupedData].sort((a, b) => b['Percentage Of Drivers Involved In Fatal Collisions Who Were Speeding'] - a['Percentage Of Drivers Involved In Fatal Collisions Who Were Speeding'])\n\t}\n\n\tconst bubble = d3.pack(groupedData)\n\t\t.size([diameter, diameter])\n\t\t.padding(1.1);\n\n\tconst heigth = width;\n\n\tconst svg = d3.select(bubbleChartRef.current)\n\t\t.append(\"svg\")\n\t\t.attr(\"width\", width)\n\t\t.attr(\"height\", heigth)\n\t\t.attr(\"class\", \"bubble\");\n\n\tconst nodes = d3.hierarchy(nodeData)\n\t\t.sum((d)=>  { return d['Percentage Of Drivers Involved In Fatal Collisions Who Were Speeding']; });\n\n\tconst node = svg.selectAll(\".node\")\n\t\t.data(bubble(nodes).descendants())\n\t\t.enter()\n\t\t.filter((d) => {\n\t\t\treturn !d.children\n\t\t})\n\t\t.append(\"g\")\n\t\t.attr(\"class\", \"node\")\n\t\t.attr(\"transform\", (d) => {\n\t\t\treturn \"translate(\" + d.x + \",\" + d.y + \")\";\n\t\t});\n\n\tnode.append(\"title\")\n\t\t.text((d, i) => {\n\t\t\treturn d.data && d.data.State + \": \" + d.data['Percentage Of Drivers Involved In Fatal Collisions Who Were Speeding'];\n\t\t});\n\t\n\tconst tooltip = d3.select('#bubble-chart-area')\n\t\t.append('div')\n\t\t.style('visibility', 'hidden')\n\t\t.style('position', 'absolute')\n\t\t.style('background-color', 'black')\n\t\t.style('color', '#fff')\n\t\t.style('text-align', 'center')\n\t\t.style('padding', '10px 0')\n\t\t.style('border-radius', '6px')\n\t\t.style('z-index', '1')\n\n\tnode.append(\"circle\")\n\t\t.attr(\"r\", (d) => {\n\t\t\treturn d.r;\n\t\t})\n\t\t.style(\"fill\", (d, i) => {\n\t\t\treturn color(i);\n\t\t})\n\t\t.on('mouseover', (e, d) => {\n\t\t\tconst totalDrivers = parseFloat(d.data[\"Number of drivers involved in fatal collisions per billion miles\"]);\n\t\t\tconst speedingDrivers = parseInt(totalDrivers * parseFloat(d.data[\"Percentage Of Drivers Involved In Fatal Collisions Who Were Speeding\"]));\n\n\t\t\tconst tooltipText = `Number of speeding drivers: ${speedingDrivers}`;\n\t\t\ttooltip.style('visibility', 'visible')\n\t\t\t\t.text(tooltipText);\n\t\t})\n\t\t.on('mousemove', (e, d) => {\n\t\t\ttooltip.style('top', (e.pageY-50) + 'px').style('left', (e.pageX-50) + 'px');\n\t\t})\n\t\t.on('mouseout', (e, d) => {\n\t\t\ttooltip.style('visibility', 'hidden');\n\t\t});\n\n\tnode.append(\"text\")\n\t\t.attr(\"dy\", \".2em\")\n\t\t.style(\"text-anchor\", \"middle\")\n\t\t.text((d) => {\n\t\t\tif (d.data && d.data.State === 'District of Columbia'){\n\t\t\t\td.data.State = 'D.C.'\n\t\t\t}\n\t\t\treturn d.data && d.data.State.substring(0, d.r / 3);\n\t\t})\n\t\t.attr(\"font-family\", `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`)\n\t\t.attr(\"font-size\", (d) => {\n\t\t\treturn d.r / 4;\n\t\t})\n\t\t.attr('font-weight', 'bold')\n\t\t.attr(\"fill\", \"white\");\n\n\tnode.append(\"text\")\n\t\t.attr(\"dy\", \"1.3em\")\n\t\t.style(\"text-anchor\", \"middle\")\n\t\t.text((d) => {\n\t\t\treturn `${d.data['Percentage Of Drivers Involved In Fatal Collisions Who Were Speeding']}%`;\n\t\t})\n\t\t.attr(\"font-family\", `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`)\n\t\t.attr(\"font-size\", (d) => {\n\t\t\treturn d.r / 4;\n\t\t})\n\t\t.attr('font-weight', 'bold')\n\t\t.attr(\"fill\", \"white\");\n\n\td3.select(window.frameElement)\n\t\t.style(\"height\", diameter + \"px\");\n\n\treturn (\n\t\t<div id=\"bubble-chart-area\">\n\t\t\t<svg width={970} height={970} ref={bubbleChartRef}></svg>\n\t\t</div>\n\t);\n}\n\nexport default BarChart;","import React, { useRef, useState, useEffect } from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport * as d3 from \"d3\";\nimport Button from '@material-ui/core/Button';\nconst url = 'https://raw.githubusercontent.com/fivethirtyeight/data/master/bad-drivers/bad-drivers.csv';\n\n\nconst BarChart = ({ width }) => {\n\n\tconst annotations = [\n\t\t{\n\t\t\tnote: {\n\t\t\t\ttitle: \"TOP 3 HIGHEST VALUE\",\n\t\t\t\tlabel: \"This state has one of the highest numbers\"\n\t\t\t},\n\t\t\tx: 100,\n\t\t\ty: 100,\n\t\t\tdy: 100,\n\t\t\tdx: 100\n\t\t}\n\t]\n\n\tlet [data, setData] = useState([]);\n\n\tuseEffect(() => {\n\t\ttry {\n\t\t\t(async () => {\n\t\t\t\tlet response = await d3.csv(url)\n\n\t\t\t\tawait setData(response);\n\t\t\t})();\n\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\n\t}, []);\n\n\tconst useStyles = makeStyles((theme) => ({\n\t\tmargin: {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t\textendedIcon: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t}));\n\n\tconst classes = useStyles();\n\n\tconst [sort, setSort] = useState(true);\n\n\tdata = sort\n\t\t? [...data].sort((a, b) => b['Number of drivers involved in fatal collisions per billion miles'] - a['Number of drivers involved in fatal collisions per billion miles'])\n\t\t: [...data];\n\n\tconst barChartRef = useRef(false);\n\n\tconst margin = ({ top: 30, right: 0, bottom: 30, left: 30 })\n\n\tconst barHeight = 25;\n\n\tconst height = Math.ceil((data.length + 0.1) * barHeight) + margin.top + margin.bottom\n\n\tconst maxVal = d3.max(data.map((d) => parseFloat(d['Number of drivers involved in fatal collisions per billion miles'])));\n\n\tconst x = d3.scaleLinear()\n\t\t.domain([0, maxVal])\n\t\t.range([0, width])\n\n\tconst y = d3.scaleBand()\n\t\t.domain(d3.range(data.length))\n\t\t.rangeRound([margin.top, height - margin.bottom])\n\t\t.padding(0.1)\n\n\tconst xAxis = g => g\n\t\t.attr(\"transform\", `translate(${120},${margin.bottom - 10})`)\n\t\t.call(d3.axisTop(x).ticks(6))\n\t\t.call(g => g.select(\".domain\").remove())\n\n\tconst yAxis = g => g\n\t\t.attr(\"transform\", `translate(${margin.left + 80},0)`)\n\t\t.call(d3.axisLeft(y).tickFormat(i => data[i].State).tickSizeOuter(0))\n\n\tconst svg = d3.select(barChartRef.current)\n\t\t.attr(\"viewBox\", [0, 0, width, height]);\n\n\tsvg.append(\"g\")\n\t\t.attr(\"fill\", \"steelblue\")\n\t\t.selectAll(\"rect\")\n\t\t.data(data)\n\t\t.join(\"rect\")\n\t\t.attr(\"x\", x(3))\n\t\t.attr(\"y\", (d, i) => y(i))\n\t\t.attr(\"width\", d => x(d['Number of drivers involved in fatal collisions per billion miles']) - x(0))\n\t\t.attr(\"height\", y.bandwidth())\n\t\t.attr('fill', function(d) {\n\t\t\tif (d.State === 'California' || d.State === 'Utah') {\n\t\t\t\td3.select(this).style('fill', 'limegreen');\n\t\t\t}\n\t\t\telse if (parseFloat(d['Number of drivers involved in fatal collisions per billion miles']) >= 23) {\n\t\t\t\td3.select(this).style('fill', 'crimson');\n\t\t\t}\n\t\t});\n\t\n\t// container for line and text\n\tconst lineContainer = svg.append(\"g\")\n        .attr(\"class\", \"line-and-text\")\n\t\t.append(\"line\")\n\t\t.attr('stroke', 'black')\n\t\t.style(\"stroke-width\", 5)\n\t\t.attr(\"x1\", 950)\n\t\t.attr(\"y1\", 900)\n\t\t.attr(\"x2\", 530)\n\t\t.attr(\"y2\", 1060)\n\t\n\tlineContainer\n\t\t.append(\"text\")\n\t\t.attr(\"dx\", 100)\n\t\t.attr(\"dy\", \".35em\")\n\t\t.text(function(d) { return \"test\" });\n\n\tsvg.append(\"g\")\n\t\t.attr(\"fill\", \"white\")\n\t\t.attr(\"text-anchor\", \"end\")\n\t\t.attr(\"font-family\", `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`)\n\t\t.attr(\"font-size\", 16)\n\t\t.selectAll(\"text\")\n\t\t.data(data)\n\t\t.join(\"text\")\n\t\t.attr(\"x\", d => x(d['Number of drivers involved in fatal collisions per billion miles']))\n\t\t.attr(\"y\", (d, i) => y(i) + y.bandwidth() / 2)\n\t\t.attr(\"dy\", \"0.35em\")\n\t\t.attr(\"dx\", -4)\n\t\t.text(d => d['Number of drivers involved in fatal collisions per billion miles'])\n\t\t.call(text => text.filter(d => x(d['Number of drivers involved in fatal collisions per billion miles']) - x(0) < 20) // short bars\n\t\t\t.attr(\"dx\", +4)\n\t\t\t.attr(\"fill\", \"black\")\n\t\t\t.attr(\"text-anchor\", \"start\"));\n\n\tsvg.append(\"g\")\n\t\t.call(xAxis);\n\n\tsvg.append(\"g\")\n\t\t.call(yAxis);\n\n\treturn (\n\t\t<div key={'barChart'}>\n\t\t\t{/* <Button\n\t\t\t \tvariant=\"contained\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tsize=\"small\"\n\t\t\t\tclassName={classes.margin}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tsetSort(!sort);\n\t\t\t\t\t// barChartRef = barChartRef.current\n\t\t\t\t}}\n\t\t\t\tstyle={{display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\n\n\t\t\t\tSort values\n\t\t\t</Button> */}\n\t\t\t<svg key={'testig'} ref={barChartRef}></svg>\n\t\t</div>\n\t);\n}\n\nexport default BarChart;","import React, { useRef, useState, useEffect } from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport * as d3 from \"d3\";\nconst url = 'https://raw.githubusercontent.com/fivethirtyeight/data/master/bad-drivers/bad-drivers.csv';\n\n\nconst InsuranceBarChart = ({ width }) => {\n\n\tlet [data, setData] = useState([]);\n\n\tuseEffect(() => {\n\t\ttry {\n\t\t\t(async () => {\n\t\t\t\tlet response = await d3.csv(url)\n\n\t\t\t\tawait setData(response);\n\t\t\t})();\n\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\n\t}, []);\n\n\tconst useStyles = makeStyles((theme) => ({\n\t\tmargin: {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t\textendedIcon: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t}));\n\n\tconst classes = useStyles();\n\n\tconst [sort, setSort] = useState(true);\n\n\tdata = sort\n\t\t? [...data].sort((a, b) => b['Car Insurance Premiums ($)'] - a['Car Insurance Premiums ($)'])\n\t\t: [...data];\n\n\tconst insuranceBarChartRef = useRef()\n\n\tconst margin = ({ top: 30, right: 0, bottom: 30, left: 30 })\n\n\tconst barHeight = 25;\n\n\tconst height = Math.ceil((data.length + 0.1) * barHeight) + margin.top + margin.bottom\n\n\tconst maxVal = d3.max(data.map((d) => parseFloat(d['Car Insurance Premiums ($)'])));\n\n\tconst x = d3.scaleLinear()\n\t\t.domain([200, maxVal])\n\t\t.range([0, width])\n\n\tconst y = d3.scaleBand()\n\t\t.domain(d3.range(data.length))\n\t\t.rangeRound([margin.top, height - margin.bottom])\n\t\t.padding(0.1)\n\n\tconst xAxis = g => g\n\t\t.attr(\"transform\", `translate(${120},${margin.bottom - 10})`)\n\t\t.call(d3.axisTop(x).ticks(6))\n\t\t.call(g => g.select(\".domain\").remove())\n\n\tconst yAxis = g => g\n\t\t.attr(\"transform\", `translate(${margin.left + 80},0)`)\n\t\t.call(d3.axisLeft(y).tickFormat(i => {\n\t\t\tif (data[i].State === 'District of Columbia') {\n\t\t\t\tdata[i].State = 'D.C.';\n\t\t\t}\n\t\t\treturn data[i].State\n\t\t}).tickSizeOuter(0))\n\n\tconst svg = d3.select(insuranceBarChartRef.current)\n\t\t.attr(\"viewBox\", [0, 0, width, height]);\n\n\tsvg.append(\"g\")\n\t\t.attr(\"fill\", \"ForestGreen\")\n\t\t.selectAll(\"rect\")\n\t\t.data(data)\n\t\t.join(\"rect\")\n\t\t.attr(\"x\", x(3))\n\t\t.attr(\"y\", (d, i) => y(i))\n\t\t.attr(\"width\", d => x(d['Car Insurance Premiums ($)']) - x(0))\n\t\t.attr(\"height\", y.bandwidth())\n\t\t.on(\"mouseover\", function (d) {\n\t\t\td3.select(this).style('fill', 'Red');\n\t\t}).on(\"mouseout\", function (d) {\n\t\t\td3.select(this).style('fill', 'ForestGreen');\n\t\t});\n\n\tsvg.append(\"g\")\n\t\t.attr(\"fill\", \"white\")\n\t\t.attr(\"text-anchor\", \"end\")\n\t\t.attr(\"font-family\", `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`)\n\t\t.attr(\"font-size\", 16)\n\t\t.selectAll(\"text\")\n\t\t.data(data)\n\t\t.join(\"text\")\n\t\t.attr(\"x\", d => x(d['Car Insurance Premiums ($)']))\n\t\t.attr(\"y\", (d, i) => y(i) + y.bandwidth() / 2)\n\t\t.attr(\"dy\", \"0.35em\")\n\t\t.attr(\"dx\", -4)\n\t\t.text(d => `$${parseInt(d['Car Insurance Premiums ($)'])}`)\n\t\t.call(text => text.filter(d => x(d['Car Insurance Premiums ($)']) - x(0) < 20) // short bars\n\t\t\t.attr(\"dx\", +4)\n\t\t\t.attr(\"fill\", \"black\")\n\t\t\t.attr(\"text-anchor\", \"start\"));\n\n\tsvg.append(\"g\")\n\t\t.call(xAxis);\n\n\tsvg.append(\"g\")\n\t\t.call(yAxis)\n\t\t.selectAll(\"text\")\n\t\t.attr(\"fill\", \"white\")\n\t\t.attr(\"font-family\", `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`)\n\n\t\t.attr(\"font-size\", 13)\n\n\treturn (\n\t\t<div>\n\t\t\t<svg ref={insuranceBarChartRef}></svg>\n\t\t</div>\n\t);\n}\n\nexport default InsuranceBarChart;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Pagination from '@material-ui/lab/Pagination';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\t'& > *': {\n\t\t\tmarginTop: theme.spacing(2),\n\t\t},\n\t},\n\tpagination: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t  },\n}));\n\nexport default function Paginator({pageCount, onPageChange, currentPage}) {\n\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Pagination\n\t\t\t \tclassName={classes.pagination}\n\t\t\t\tcount={pageCount}\n\t\t\t\tsize=\"large\"\n\t\t\t\tonChange={onPageChange}\n\t\t\t\tcolor=\"secondary\"\n\t\t\t\tvariant=\"outlined\"\n\t\t\t/>\n\t\t</div>\n\n\t);\n}","import { useState } from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * A hook for handling pagination\n * @param {Array} data - An Array to be paginated\n * @param {number} itemsPerPage - The number of items per page\n */\nconst usePagination = (data, itemsPerPage) => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemCount = data.length;\n\n  /**\n   * Returns data for the current page\n   * @returns {Array}\n   */\n  const getCurrentData = () => {\n    const start = (currentPage - 1) * itemsPerPage;\n    const end = start + itemsPerPage;\n\n    return data.slice(start, end);\n  };\n\n  /**\n   * The total page count\n   * @type {number}\n   */\n  const pageCount = Math.ceil(itemCount / itemsPerPage);\n\n  return {\n    currentPage, getCurrentData, setCurrentPage, pageCount,\n  };\n};\n\nusePagination.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.any.isRequired).isRequired,\n  itemsPerPage: PropTypes.number.isRequired,\n};\n\nexport default usePagination;","import './App.css';\nimport Introduction from './Introduction/Introduction';\nimport BubbleChart from './BubbleChart/BubbleChart';\nimport BarChart from './BarChart/BarChart';\nimport InsuranceBarChart from './InsuranceBarChart/InsuranceBarChart';\n\nimport Paginator from './Paginator/Paginator';\nimport { useState} from 'react';\nimport usePagination from \"./Paginator/hooks/usePagination\";\n\nfunction App() {\n\n\tconst ITEMS_PER_PAGE = 1;\n\n\tconst [data, setData] = useState([]);\n\tconst {currentPage, setCurrentPage} = usePagination(data, ITEMS_PER_PAGE);\n\n\tconst pageMap = {\n\t\t1: (\n\t\t\t<div className=\"num-drivers-collision-per-billion-miles\">\n\t\t\t\t<h1 style={{margin:20, marginTop: 30, textAlign: 'center'}} className=\"label-1\">🚘 Drivers involved in fatal collisions <span style={{'textDecoration': 'underline'}}>per billion miles (2009) </span></h1>\n\t\t\t\t\t<BarChart\n\t\t\t\t\t\twidth={900}\n\t\t\t\t\t/>\n\t\t\t</div>\n\t\t),\n\t\t2: (\n\t\t\t<div className=\"percent-drivers-speeding-colision\">\n\t\t\t\t<h1 style={{margin:20, marginTop: 30, textAlign: 'center'}} className=\"label-2\">🚓 Percentage of fatal collisions caused by <span style={{'textDecoration': 'underline'}}>speeding</span> drivers</h1>\n\t\t\t\t\t<BubbleChart\n\t\t\t\t\t\twidth={970}\n\t\t\t\t\t/>\n\t\t\t</div>\n\t\t),\n\t\t3: (\n\t\t\t<div className=\"percent-drivers-speeding-colision\">\n\t\t\t<h1 style={{margin:20, marginTop: 30, textAlign: 'center'}} className=\"label-3\">💸 <span style={{'textDecoration': 'underline'}}>Average</span> combined insurance premiums (2009)</h1>\n\t\t\t\t<InsuranceBarChart\n\t\t\t\t\twidth={900}\t\n\t\t\t\t/>\n\t\t</div>\n\t\t)\n\t}\n\n\tconst onPageChange = (event, value) => setCurrentPage(value);\n\n\treturn (\n\t\t<div>\n\t\t\t<Introduction />\n\t\t\t<Paginator\n\t\t\t\tonPageChange={onPageChange}\n\t\t\t\tcurrentPage={currentPage}\n\t\t\t\tpageCount={3}\n\t\t\t/>\n\t\t\t{pageMap[currentPage]}\n\t\t</div>\n\t);\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}